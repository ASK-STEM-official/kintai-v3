# 部活動勤怠管理システム 企画書

## アジェンダ

- 提案の対象となる想定ペルソナ
- 提案の背景となる現状認識
- 提案の主題
- 提案への解決策
- 期待される効果について
- システム概要
- 費用・スケジュール概要
- 体制図・関係者

## 提案の対象となる想定ペルソナ

- **部活動責任者・顧問の先生**：出席管理の効率化を求める教職員
- **部活動メンバー**：簡単で確実な出退勤記録を求める学生

## 提案の背景となる現状認識

### 事実1：既存システムの限界
- Firebaseを利用した勤怠管理システムが、分析時の大量トラフィックにより読み取り上限に達している
- データ分析や集計処理時にシステムが不安定になり、運用に支障をきたしている

### 事実2：学校ネットワーク制約
- 学校施設のネットワークセキュリティ上、オンプレミサーバーの設置が困難
- 既存のネットワークインフラに影響を与えない構成が必要

### 事実3：運用コスト制約
- 部活動運営予算が限られており、システム運用に追加費用をかけられない
- 無料プランでの継続運用が必須条件

## 提案の主題

**無料クラウドサービスを活用した、安全で高性能な部活動勤怠管理システムへの移行**

## 提案への解決策

### システム構成
1. **打刻環境**：ラズベリーパイ1台 + HIDキーボード対応NFC/RFIDリーダー
2. **データベース**：Supabase（PostgreSQL）無料プラン
3. **フロントエンド**：Next.js + Vercel無料プラン
4. **認証**：Discord OAuth + Supabase Auth連携

### 業務フロー
1. メンバーがカードをリーダーにタッチ
2. カードIDがブラウザに自動入力され、出退勤を自動記録
3. Discord認証でWebサイトにログインし、個人の勤怠状況を確認
4. 管理者は班・学年別の集計データをカレンダー形式で閲覧

## 期待される効果について

### 定量的効果
- **データ処理性能向上**：PostgreSQLにより分析処理時のトラフィック制限を解消
- **運用コスト削減**：月額0円での継続運用（現状維持）
- **処理速度改善**：カードタッチから記録完了まで3秒以内

### 定性的効果
- **安全性向上**：オンプレサーバー不要でネットワークセキュリティリスク軽減
- **拡張性確保**：班・学年別集計など新機能の追加が容易
- **運用負荷軽減**：自動バックアップ・メンテナンスフリー

## システム概要

### アーキテクチャ
```
[NFC/RFIDカード] → [ラズベリーパイ + リーダー] → [Webブラウザ]
                                                      ↓
[Discord OAuth] ← [Next.js Frontend] ← [Supabase API]
                                          ↓
                                   [PostgreSQL DB]
```

### 主要機能
- カードタッチによる自動出退勤記録
- Discord OAuth認証による安全なアクセス制御
- 個人勤怠状況の閲覧（全メンバー）
- 班・学年別集計表示（管理者のみ）
- 既存Firebaseデータの完全移行

## 費用・スケジュール概要

### 費用
- **初期費用**：0円
- **月額運用費**：0円
- **必要機材**：既存のラズベリーパイとNFC/RFIDリーダーを流用

### スケジュール
- **Phase 1**（1-2週間）：Supabase環境構築・データ移行
- **Phase 2**（2-3週間）：Next.jsアプリケーション開発・Discord OAuth連携
- **Phase 3**（1週間）：テスト運用・本格稼働

## 体制図・関係者

### 開発担当
- **システム開発者**：設計・実装・テスト
- **部活動責任者**：要件確認・受入テスト

### 運用担当
- **管理者権限者**：全体データ管理・ユーザー権限設定
- **一般メンバー**：日常的な出退勤操作・個人データ確認

### 技術サポート
- **Supabase**：データベース・認証基盤
- **Vercel**：Webアプリケーションホスティング
- **Discord**：OAuth認証プロバイダー
